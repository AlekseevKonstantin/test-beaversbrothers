{"ast":null,"code":"import _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _assertThisInitialized from \"@babel/runtime/helpers/esm/assertThisInitialized\";\nimport _inherits from \"@babel/runtime/helpers/esm/inherits\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nvar _jsxFileName = \"C:\\\\web_project\\\\test-beaversbrothers\\\\layout-test\\\\src\\\\pages\\\\index.tsx\";\nvar __jsx = React.createElement;\nimport React, { Component } from \"react\";\nimport { Layout } from \"~/components/Layout/Layout\";\nimport Card from '../components/card/card';\nimport { stateTop, stateMasked, bigTop } from '../state/state';\n\nvar _default = /*#__PURE__*/function (_Component) {\n  _inherits(_default, _Component);\n\n  function _default() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, _default);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(_default)).call.apply(_getPrototypeOf2, [this].concat(args)));\n\n    _defineProperty(_assertThisInitialized(_this), \"state\", {\n      topHeight: 0,\n      maskedHeight: 0,\n      curVp: 0\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"getMaxTopHeight\", function (height) {\n      if (_this.state && height > _this.state.topHeight) {\n        _this.setState({\n          topHeight: height\n        });\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"getMaxMaskedHeight\", function (height) {\n      if (_this.state && height > _this.state.maskedHeight) {\n        _this.setState({\n          maskedHeight: height\n        });\n      }\n    });\n\n    return _this;\n  }\n\n  _createClass(_default, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this.setState({\n        curVp: window.innerWidth\n      });\n    }\n  }, {\n    key: \"cardToProps\",\n    value: function cardToProps(array, callback) {\n      var _this2 = this;\n\n      return array.map(function (item, index) {\n        return __jsx(\"div\", {\n          className: \"col \".concat(item.className),\n          key: index,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 31\n          },\n          __self: this\n        }, __jsx(Card, {\n          cardProps: item.cardProps,\n          callback: callback,\n          context: _this2,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 32\n          },\n          __self: this\n        }));\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return __jsx(Layout, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 53\n        },\n        __self: this\n      }, __jsx(\"div\", {\n        className: \"container\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 54\n        },\n        __self: this\n      }, __jsx(\"h2\", {\n        className: \"headers mb--more-small\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 55\n        },\n        __self: this\n      }, \"\\u0422\\u041E\\u041F \", __jsx(\"span\", {\n        className: \"italic\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 55\n        },\n        __self: this\n      }, \"10\"), \" \\u043C\\u0435\\u0441\\u0442\"), __jsx(\"div\", {\n        className: \"row\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 57\n        },\n        __self: this\n      }, stateTop && this.cardToProps(bigTop, null)), __jsx(\"div\", {\n        className: \"list\",\n        style: this.state.curVp > 0 && this.state.curVp < 767 ? {\n          height: \"\".concat(this.state.topHeight, \"px\")\n        } : undefined,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 61\n        },\n        __self: this\n      }, __jsx(\"div\", {\n        className: \"row\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 62\n        },\n        __self: this\n      }, stateTop && this.cardToProps(stateTop, this.getMaxTopHeight))), __jsx(\"h2\", {\n        className: \"headers mb--more-medium mt--big\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 67\n        },\n        __self: this\n      }, __jsx(\"span\", {\n        className: \"italic\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 67\n        },\n        __self: this\n      }, \"\\u0421\\u043A\\u043E\\u0440\\u043E\"), \" \\u043D\\u0430 \\u0441\\u0430\\u0439\\u0442\\u0435\"), __jsx(\"div\", {\n        className: \"list\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 69\n        },\n        __self: this\n      }, __jsx(\"div\", {\n        className: \"row\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 70\n        },\n        __self: this\n      }, stateMasked && this.cardToProps(stateMasked, this.getMaxMaskedHeight)))));\n    }\n  }]);\n\n  return _default;\n}(Component);\n\nexport { _default as default };","map":{"version":3,"sources":["C:/web_project/test-beaversbrothers/layout-test/src/pages/index.tsx"],"names":["React","Component","Layout","Card","stateTop","stateMasked","bigTop","topHeight","maskedHeight","curVp","height","state","setState","window","innerWidth","array","callback","map","item","index","className","cardProps","cardToProps","undefined","getMaxTopHeight","getMaxMaskedHeight"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\"\nimport { Layout } from \"~/components/Layout/Layout\"\nimport Card from '../components/card/card'\n\nimport { stateTop, stateMasked, bigTop, IColCardProps } from '../state/state'\n\ninterface IState {\n  topHeight: number;\n  maskedHeight: number;\n  curVp : number;\n}\n\n\nexport default class extends Component<IState> {\n\n  \n  state = {\n    topHeight: 0,\n    maskedHeight: 0,\n    curVp : 0\n  }\n  \n\n  componentDidMount () {\n    this.setState({ curVp: window.innerWidth })\n  }\n  \n  cardToProps(array: any, callback: any) {\n    return array.map((item: IColCardProps, index: number) => {\n      return (\n        <div className={`col ${item.className}`} key={index}>\n          <Card cardProps={item.cardProps} callback={callback} context={this} />\n        </div>\n      )\n    })\n  }\n\n  getMaxTopHeight = (height: number) => {\n    \n    if (this.state && height > this.state.topHeight) {\n      this.setState({topHeight: height})\n    }\n  }\n\n  getMaxMaskedHeight = (height: number) => {\n    if (this.state && height > this.state.maskedHeight) {\n      this.setState({maskedHeight: height})\n    }\n  }\n\n  render() {\n    return (\n      <Layout>\n        <div className=\"container\">\n          <h2 className=\"headers mb--more-small\">ТОП <span className=\"italic\">10</span> мест</h2>\n\n          <div className=\"row\">\n            { stateTop && this.cardToProps(bigTop, null)}\n          </div>\n\n          <div className=\"list\" style={this.state.curVp > 0 && this.state.curVp < 767 ? {height: `${this.state.topHeight}px`} : undefined }>\n            <div className=\"row\">\n              { stateTop && this.cardToProps(stateTop, this.getMaxTopHeight)}\n            </div>\n          </div>\n\n          <h2 className=\"headers mb--more-medium mt--big\"><span className=\"italic\">Скоро</span> на сайте</h2>\n\n          <div className=\"list\">\n            <div className=\"row\">\n              { stateMasked && this.cardToProps(stateMasked, this.getMaxMaskedHeight)}\n            </div>\n          </div>\n        </div>\n      </Layout>\n    )\n  }\n}\n"]},"metadata":{},"sourceType":"module"}